{% extends "principal/base.html" %}
{% load custom_tags %}

{% block content %}
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<body>

    <h1 class="page-title">Selecciona Jornada</h1>


    <form id="jornadaForm" method="post" action="{% url 'jornadas' %}" class="jornada-form">

        {% csrf_token %}
    
        <label for="opciones">Jornada:</label>
        <select id="opciones" name="opciones">
            <option value="1" {% if jornada_actual == 1 %} selected {% endif %}>1</option>
            <option value="2" {% if jornada_actual == 2 %} selected {% endif %}>2</option>
            <option value="3" {% if jornada_actual == 3 %} selected {% endif %}>3</option>
            <option value="4" {% if jornada_actual == 4 %} selected {% endif %}>4</option>
            <option value="5" {% if jornada_actual == 5 %} selected {% endif %}>5</option>
            <option value="6" {% if jornada_actual == 6 %} selected {% endif %}>6</option>
            <option value="7" {% if jornada_actual == 7 %} selected {% endif %}>7</option>
            <option value="8" {% if jornada_actual == 8 %} selected {% endif %}>8</option>
            <option value="9" {% if jornada_actual == 9 %} selected {% endif %}>9</option>
            <option value="10" {% if jornada_actual == 10 %} selected {% endif %}>10</option>
            <option value="11" {% if jornada_actual == 11 %} selected {% endif %}>11</option>
            <option value="12" {% if jornada_actual == 12 %} selected {% endif %}>12</option>
            <option value="13" {% if jornada_actual == 13 %} selected {% endif %}>13</option>
            <option value="14" {% if jornada_actual == 14 %} selected {% endif %}>14</option>
            <option value="15" {% if jornada_actual == 15 %} selected {% endif %}>15</option>
            <option value="16" {% if jornada_actual == 16 %} selected {% endif %}>16</option>
            <option value="17" {% if jornada_actual == 17 %} selected {% endif %}>17</option>
        </select>
    </form>

    <script>
        document.getElementById('opciones').addEventListener('change', function() {
            document.getElementById('jornadaForm').submit();
        });
    </script>
            {% for bloque in bloques %}
<div class="tabla-bloque">

<table class="pred-table">
    <thead>
        <tr>
            {% for col in bloque.columnas %}
                <th>{{ col.nombre }}</th>
            {% endfor %}
        </tr>
    </thead>

    <tbody>
        {% for fila in bloque.filas %}
        <tr>
            {% for celda in fila.pred %}
                <td style="background-color: {{ celda.1 }}; text-align:center;">
                    {{ celda.0 }}
                </td>
            {% endfor %}
        </tr>
        {% endfor %}
    </tbody>
</table>

</div>
{% endfor %}




</body>

{% endblock %}